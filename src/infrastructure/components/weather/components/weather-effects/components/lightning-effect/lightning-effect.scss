.lightning-effect {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 2; // over clouds/background

  &__flash {
    position: absolute;
    inset: 0;
    background: radial-gradient(
      120% 120% at var(--flash-x, 50%) var(--flash-y, 40%),
      hsl(var(--foreground) / 0.6) 0%,
      transparent 60%
    );
    opacity: 0;
    animation: lightning-flash var(--flash-duration, 450ms) ease-out forwards;
  }

  &__bolt {
    position: absolute;
    inset: 0;
  }

  &__bolt-line,
  &__bolt-branch {
    fill: none;
    stroke: hsl(var(--foreground));
    stroke-opacity: 0.85;
    filter: drop-shadow(0 0 6px hsl(var(--foreground) / 0.7));
    stroke-linejoin: round;
    stroke-linecap: round;
    animation: bolt-fade var(--flash-duration, 450ms) ease-out forwards;
  }

  &__bolt-line {
    stroke-width: 1.6;
  }
  &__bolt-branch {
    stroke-width: 1;
    stroke-opacity: 0.7;
  }
}

@keyframes lightning-flash {
  0% {
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  25% {
    opacity: 0.2;
  }
  35% {
    opacity: 0.85;
  }
  60% {
    opacity: 0.15;
  }
  100% {
    opacity: 0;
  }
}

@keyframes bolt-fade {
  0% {
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  50% {
    opacity: 0.9;
  }
  100% {
    opacity: 0;
  }
}
