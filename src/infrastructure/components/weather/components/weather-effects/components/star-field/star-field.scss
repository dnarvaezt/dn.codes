.star-field {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  overflow: hidden;
  background: radial-gradient(
    ellipse at center,
    hsl(var(--foreground) / 0.1) 0%,
    hsl(var(--foreground) / 0.3) 100%
  );

  // Intensidad brillante (cielo despejado)
  &--bright {
    &::before {
      opacity: 1;
    }
    &::after {
      opacity: 0.8;
    }
  }

  // Intensidad media (parcialmente nublado)
  &--medium {
    &::before {
      opacity: 0.7;
    }
    &::after {
      opacity: 0.4;
    }
  }

  // Intensidad tenue (viento o seco)
  &--dim {
    &::before {
      opacity: 0.4;
    }
    &::after {
      opacity: 0.2;
    }
  }

  // Intensidad escasa (muy nublado/lluvia/niebla)
  &--sparse {
    &::before {
      opacity: 0.18;
      filter: blur(0.2px);
    }
    &::after {
      opacity: 0.08;
      filter: blur(0.3px);
    }
  }

  // Estrellas principales (más brillantes)
  &::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image:
      radial-gradient(1px 1px at 15% 25%, hsl(var(--foreground)), transparent),
      radial-gradient(1px 1px at 35% 15%, hsl(var(--foreground) / 0.9), transparent),
      radial-gradient(0.5px 0.5px at 55% 35%, hsl(var(--foreground)), transparent),
      radial-gradient(1px 1px at 75% 20%, hsl(var(--foreground) / 0.85), transparent),
      radial-gradient(0.5px 0.5px at 85% 45%, hsl(var(--foreground)), transparent),
      radial-gradient(1px 1px at 25% 65%, hsl(var(--foreground) / 0.95), transparent),
      radial-gradient(0.5px 0.5px at 45% 75%, hsl(var(--foreground)), transparent),
      radial-gradient(1px 1px at 65% 85%, hsl(var(--foreground) / 0.85), transparent),
      radial-gradient(0.5px 0.5px at 85% 75%, hsl(var(--foreground)), transparent),
      radial-gradient(1px 1px at 15% 85%, hsl(var(--foreground) / 0.95), transparent);
    background-repeat: no-repeat;
    animation: gentle-twinkle 8s ease-in-out infinite;
  }

  // Estrellas secundarias (más tenues)
  &::after {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image:
      radial-gradient(0.3px 0.3px at 5% 10%, hsl(var(--foreground) / 0.6), transparent),
      radial-gradient(0.3px 0.3px at 25% 5%, hsl(var(--foreground) / 0.5), transparent),
      radial-gradient(0.2px 0.2px at 45% 15%, hsl(var(--foreground) / 0.4), transparent),
      radial-gradient(0.3px 0.3px at 65% 8%, hsl(var(--foreground) / 0.5), transparent),
      radial-gradient(0.2px 0.2px at 85% 18%, hsl(var(--foreground) / 0.3), transparent),
      radial-gradient(0.3px 0.3px at 95% 35%, hsl(var(--foreground) / 0.4), transparent),
      radial-gradient(0.2px 0.2px at 8% 45%, hsl(var(--foreground) / 0.3), transparent),
      radial-gradient(0.3px 0.3px at 28% 55%, hsl(var(--foreground) / 0.4), transparent),
      radial-gradient(0.2px 0.2px at 48% 65%, hsl(var(--foreground) / 0.2), transparent),
      radial-gradient(0.3px 0.3px at 68% 75%, hsl(var(--foreground) / 0.3), transparent),
      radial-gradient(0.2px 0.2px at 88% 85%, hsl(var(--foreground) / 0.2), transparent),
      radial-gradient(0.3px 0.3px at 12% 95%, hsl(var(--foreground) / 0.3), transparent);
    background-repeat: no-repeat;
    animation: subtle-twinkle 12s ease-in-out infinite reverse;
  }

  // Modificadores por estación (duración/contraste)
  &--winter {
    &::before {
      animation-duration: 7s; // twinkle más ágil (aire más limpio)
    }
    &::after {
      animation-duration: 10s;
    }
  }

  &--summer {
    &::before {
      animation-duration: 9s; // twinkle un poco más lento (velos atmosféricos)
    }
    &::after {
      animation-duration: 14s;
    }
  }

  // Modificadores por humedad y viento
  &--humid {
    &::before {
      opacity: 0.85; // ligera reducción de contraste de estrellas principales
      filter: blur(0.2px);
    }
    &::after {
      opacity: 0.5;
      filter: blur(0.3px);
    }
  }

  &--windy {
    &::before {
      animation-duration: 7.5s; // twinkle algo más dinámico
    }
    &::after {
      animation-duration: 11.5s;
    }
  }

  // Modificadores por nubosidad (reduce visibilidad progresiva)
  &--clouds-20 {
    &::before {
      opacity: 0.9;
    }
    &::after {
      opacity: 0.6;
    }
  }
  &--clouds-40 {
    &::before {
      opacity: 0.75;
      filter: blur(0.15px);
    }
    &::after {
      opacity: 0.45;
      filter: blur(0.2px);
    }
  }
  &--clouds-60 {
    &::before {
      opacity: 0.55;
      filter: blur(0.25px);
    }
    &::after {
      opacity: 0.3;
      filter: blur(0.3px);
    }
  }
  &--clouds-80 {
    &::before {
      opacity: 0.35;
      filter: blur(0.35px);
    }
    &::after {
      opacity: 0.18;
      filter: blur(0.4px);
    }
  }
}

@keyframes gentle-twinkle {
  0%,
  100% {
    opacity: 0.8;
  }
  50% {
    opacity: 1;
  }
}

@keyframes subtle-twinkle {
  0%,
  100% {
    opacity: 0.3;
  }
  50% {
    opacity: 0.6;
  }
}
