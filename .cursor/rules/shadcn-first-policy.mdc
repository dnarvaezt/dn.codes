---
alwaysApply: true
---

# Shadcn como Fuente de Verdad para Componentes UI

## Regla Principal

- **shadcn/ui** es la fuente de verdad para todos los componentes UI del proyecto
- SIEMPRE validar primero si un componente existe en shadcn antes de crear uno personalizado
- React Context queda prohibido para gestiÃ³n de estado compartido entre componentes

## ValidaciÃ³n Obligatoria Antes de Crear Componentes

### Checklist Pre-CreaciÃ³n

Antes de crear cualquier componente UI, DEBES:

1. **Consultar la documentaciÃ³n de shadcn/ui** (https://ui.shadcn.com)
2. **Verificar si existe un componente equivalente** en shadcn
3. **Evaluar si el componente puede adaptarse** al caso de uso especÃ­fico
4. **Intentar composiciÃ³n** de componentes existentes antes de crear nuevos

## CuÃ¡ndo Usar Componentes de Shadcn

### âœ… Uso Obligatorio

- Cualquier componente UI estÃ¡ndar (Button, Input, Card, Dialog, etc.)
- Componentes de formulario (Select, Checkbox, Radio, Switch, etc.)
- Componentes de navegaciÃ³n (Tabs, Navigation Menu, Breadcrumb, etc.)
- Componentes de feedback (Alert, Toast, Progress, Skeleton, etc.)
- Componentes de overlay (Modal, Popover, Tooltip, Sheet, etc.)
- Componentes de datos (Table, DataTable, Accordion, etc.)

### ğŸ”„ Proceso de ImplementaciÃ³n

1. **Identificar necesidad**: Definir quÃ© componente UI se necesita
2. **Buscar en shadcn**: Consultar catÃ¡logo de componentes
3. **Instalar si existe**: Usar CLI de shadcn para agregar el componente
4. **Adaptar con props**: Personalizar mediante props nativas del componente
5. **Extender con composiciÃ³n**: Combinar componentes existentes si es necesario

## InstalaciÃ³n de Componentes Shadcn

### Comando Base

```bash
npx shadcn@latest add [component-name]
```

### Ejemplos

```bash
npx shadcn@latest add button
npx shadcn@latest add input
npx shadcn@latest add dialog
npx shadcn@latest add select
```

## AdaptaciÃ³n y PersonalizaciÃ³n

### âœ… Formas Permitidas de Personalizar

1. **Props nativas**: Usar las props que el componente ya expone
2. **className con Tailwind**: Aplicar clases de utilidad para estilos especÃ­ficos
3. **ComposiciÃ³n**: Combinar mÃºltiples componentes de shadcn
4. **Wrapper components**: Crear wrappers que encapsulen configuraciÃ³n comÃºn

```typescript
// âœ… CORRECTO: Usar componente de shadcn y adaptarlo
import { Button } from '@/components/ui/button';

export const PrimaryButton = ({ children, ...props }) => {
  return (
    <Button
      variant="default"
      size="lg"
      className="bg-primary hover:bg-primary/90"
      {...props}
    >
      {children}
    </Button>
  );
};
```

### âŒ Formas Prohibidas

```typescript
// âŒ INCORRECTO: Crear botÃ³n desde cero cuando existe en shadcn
export const CustomButton = ({ children }) => {
  return (
    <button className="px-4 py-2 bg-blue-500 rounded">
      {children}
    </button>
  );
};
```

## CuÃ¡ndo Crear Componentes Personalizados

### Excepciones Permitidas

Solo crear componentes personalizados cuando:

1. **No existe equivalente en shadcn**: El componente es Ãºnico del dominio de negocio
2. **Componente compuesto especÃ­fico**: Combina mÃºltiples componentes de shadcn con lÃ³gica de negocio
3. **Componente de dominio**: Representa una entidad o concepto especÃ­fico del proyecto

### Requisitos para Componentes Personalizados

Si DEBES crear un componente personalizado:

- [ ] Documentar por quÃ© no se usÃ³ shadcn
- [ ] Usar componentes de shadcn como base cuando sea posible
- [ ] Seguir las mismas convenciones de estilo (Tailwind + SCSS)
- [ ] Mantener la misma estructura de carpetas
- [ ] Crear tests siguiendo el patrÃ³n del proyecto

## Estructura de Componentes con Shadcn

### UbicaciÃ³n en el Proyecto

```text
src/components/
â”œâ”€â”€ ui/                    # Componentes de shadcn (generados automÃ¡ticamente)
â”‚   â”œâ”€â”€ button/
â”‚   â”œâ”€â”€ input/
â”‚   â””â”€â”€ dialog/
â”œâ”€â”€ layout/                # Componentes de layout (pueden usar shadcn internamente)
â”‚   â”œâ”€â”€ navbar/
â”‚   â””â”€â”€ footer/
â””â”€â”€ [feature]/            # Componentes especÃ­ficos de features
    â””â”€â”€ user-profile/     # Usan componentes de ui/ internamente
```

## Reglas de ImplementaciÃ³n

### 1. ğŸ“¦ No Duplicar Componentes

- NUNCA recrear un componente que existe en shadcn
- NUNCA crear variaciones innecesarias de componentes base
- SIEMPRE reutilizar componentes existentes

### 2. ğŸ¯ ComposiciÃ³n sobre CreaciÃ³n

- Preferir combinar componentes existentes
- Usar props para variaciones de estilo
- Crear wrappers solo cuando sea necesario para evitar repeticiÃ³n

### 3. ğŸ” ImportaciÃ³n Correcta

```typescript
// âœ… CORRECTO: Importar desde ui/
import { Button } from '@/components/ui/button';
import { Input } from '@/components/ui/input';
import { Dialog, DialogContent, DialogHeader } from '@/components/ui/dialog';

// âŒ INCORRECTO: Crear propios componentes base
import { Button } from '@/components/custom/button';
```

### 4. ğŸ› ï¸ ExtensiÃ³n mediante Props

```typescript
// âœ… CORRECTO: Extender con props y variantes
import { Button } from '@/components/ui/button';

<Button variant="destructive" size="sm">Eliminar</Button>
<Button variant="outline" size="lg">Cancelar</Button>
```

### 5. ğŸ“ TypeScript con Tipos de Shadcn

```typescript
// âœ… CORRECTO: Usar tipos exportados por shadcn
import { Button, type ButtonProps } from '@/components/ui/button';

interface CustomButtonProps extends ButtonProps {
  isLoading?: boolean;
}

export const LoadingButton = ({ isLoading, children, ...props }: CustomButtonProps) => {
  return (
    <Button disabled={isLoading} {...props}>
      {isLoading ? 'Cargando...' : children}
    </Button>
  );
};
```

## ValidaciÃ³n de Cumplimiento

### Checklist Antes de Crear Componente UI

- [ ] Â¿BusquÃ© este componente en shadcn/ui?
- [ ] Â¿VerifiquÃ© que NO existe en shadcn?
- [ ] Â¿EvaluÃ© si puedo componerlo con componentes existentes?
- [ ] Â¿IntentÃ© adaptarlo con props antes de crear uno nuevo?
- [ ] Â¿Es realmente necesario crear uno personalizado?

## Anti-Patrones Prohibidos

### âŒ No Hacer

- Crear componentes Button, Input, Select, Dialog personalizados
- Duplicar lÃ³gica de componentes que ya existen en shadcn
- Ignorar la documentaciÃ³n de shadcn
- Crear variantes innecesarias sin usar el sistema de variantes de shadcn
- Mezclar componentes de mÃºltiples bibliotecas UI

## Flujo de DecisiÃ³n

```mermaid
flowchart TD
    A[Necesito un componente UI] --> B{Â¿Existe en shadcn?}
    B -->|SÃ­| C[Instalar con CLI de shadcn]
    B -->|No| D{Â¿Puedo componerlo?}
    C --> E[Usar y adaptar con props]
    D -->|SÃ­| F[Componer componentes existentes]
    D -->|No| G{Â¿Es especÃ­fico del dominio?}
    F --> E
    G -->|SÃ­| H[Crear componente personalizado]
    G -->|No| I[Reconsiderar necesidad o buscar alternativa]
    H --> J[Usar shadcn como base interna]
```

## Recursos

### DocumentaciÃ³n Oficial

- CatÃ¡logo de componentes: https://ui.shadcn.com/docs/components
- CLI: https://ui.shadcn.com/docs/cli
- InstalaciÃ³n: https://ui.shadcn.com/docs/installation

### VerificaciÃ³n en Proyecto

Para ver componentes instalados de shadcn:

```bash
cat components.json
ls -la src/components/ui/
```

## Mantra

"Shadcn primero. Adaptar antes que crear. Componer antes que duplicar. La fuente de verdad es shadcn/ui."

## IntegraciÃ³n con Otras Reglas

### Compatibilidad con DRY

- Shadcn ya implementa DRY al proveer componentes reutilizables
- No duplicar lo que shadcn ya provee

### Compatibilidad con YAGNI

- No crear componentes personalizados "por si acaso"
- Usar shadcn directamente hasta que se necesite personalizaciÃ³n real

### Compatibilidad con KISS

- Shadcn mantiene componentes simples y directos
- No complicar con abstracciones innecesarias sobre shadcn
